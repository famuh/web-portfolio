const projects = {
  android: [
    {
      name: "Angkutin",
      description:
        "Angkutin is an app designed to facilitate coordination between communities and cleaners in waste management. <br><br>The app provides features such as daily waste collection notifications, waste transportation requests, and reporting of illegal waste piles, as well as monitoring the status of ongoing services. Angkutin helps the community interact efficiently with the cleaners without the need for direct communication, eases the transportation process, and ensures the environment remains clean. <br><br>The app has two main roles: the community and the cleaners, with customized features for each to ensure efficient waste management.",
      tech: "Flutter, Firebase, Google Maps API, Open Route Service API, Figma, Kanban Method",
      image: "../img/angkutin-prev.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg",
      ],
    },
    {
      name: "Al-Qur'an",
      description:
        "Alquran App adalah aplikasi yang memudahkan membaca dan memahami Al-Qur'an, lengkap dengan terjemahan, tafsir, dan fitur pencarian.",
      tech: "Flutter, GetX, Theme Persistent",
      image: "../img/porto/alquranapp.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg",
      ],
    },
    {
      name: "Absence",
      description:
        "An application to perform employee attendance by applying geofencing and camera media, consist of Employee and Admin user  ",
      tech: "Flutter, Provider, Google Maps API, Camera, Local Storage, Node.Js, Mongo.db, Figma",
      image: "../img/absence-preview.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg",
      ],
    },
    {
      name: "Diatrofi",
      description:
        "Diatrophy is a mobile application engaged in the health sector...",
      tech: "Flutter, Provider, Web View, Figma",
      image: "../img/diatrofi-preview.png",
      link: "https://github.com/famuh/diatrofi-healthcare",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg",
      ],
    },
    {
      name: "Movies App",
      description:
        "Movies App provides information to users regarding movies that are currently showing, will be showing and top rated movies. Click on an item to view detailed information of the movie. Users can search for movies through the search menu.",
      tech: "Flutter, Provider & BloC, Clean Architecture, CI/CD, Dependency Injection, Firebase Crashlytics",
      image: "../img/watch-prev.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg",
      ],
    },
    {
      name: "News App",
      description:
        "News App provides information on the latest news in Indonesia. Users can read the news by pressing one of the items.",
      tech: "Flutter, Provider",
      image: "../img/none-image-preview.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kotlin/kotlin-original.svg",
      ],
    },
    {
      name: "Swalokal",
      description:
        "Swalokal helps users find out where their desired product is sold by simply entering the image of the product they are looking for.",
      tech: "Kotlin, XML, FastApi, Python, Flask, TensorFlow, Figma",
      image: "../img/swalokal-prev.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kotlin/kotlin-original.svg",
      ],
    },
    {
      name: "Story App",
      description:
        "Story App is a story sharing app that allows users to post photos and captions. Users can also use the map feature to view people's stories from their location.",
      tech: "Kotlin, XML, Google Maps API, Camera",
      image: "../img/none-image-preview.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kotlin/kotlin-original.svg",
      ],
    },
    {
      name: "GitHub User App",
      description:
        "GitHub User is an application that allows users to search for GitHub users and view their profiles. Users can enter a username in the search bar. The application will display a list of users that match the search. Users can then select a user to view their profile.",
      tech: "Flutter, Provider",
      image: "../img/none-image-preview.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kotlin/kotlin-original.svg",
      ],
    },

    // Add more projects here
  ],
  website: [
    {
      name: "Personal Web Portfolio",
      description: "",
      tech: "HTML, CSS, Javascript",
      image: "../img/portfolio-prev.png",
      link: "https://github.com/famuh/Covid-19-World-Tracker",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/html5/html5-original.svg",
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/css3/css3-original.svg",
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/javascript/javascript-original.svg",
      ],
    },
    {
      name: "Covid-19 World Tracker",
      description:
        "A website that helps users to find out Covid-19 disease data from abroad...",
      tech: "HTML, CSS, Javascript, Node.Js",
      image: "../img/web-covid-preview.png",
      link: "https://github.com/famuh/Covid-19-World-Tracker",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/html5/html5-original.svg",
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/css3/css3-original.svg",
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/nodejs/nodejs-original.svg",
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/express/express-original.svg",
      ],
    },
    {
      name: "Flash Market",
      description:
        "a simple marketplace website design with the name Flash Market. This is an assignment for the Front End Web course.",
      tech: " HTML, CSS",
      image: "../img/web-flashmarket-preview.png",
      link: "#",
      techStack: [
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/html5/html5-original.svg",
        "https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/css3/css3-original.svg",
      ],
    },
    // Add more projects here
  ],

  graphicDesign: [
    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2FBrosur%20FAIS%20ke%207.jpg?alt=media&token=03fa3bf9-8ce1-47b1-b04a-86bc5fed4269",
    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2Fbrosur%20alpha.jpg?alt=media&token=47dc14a5-1a6a-4ab1-a046-ac6dcb4989ff",
    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2Fnetworking%20and%20security%20arc.jpg?alt=media&token=e81374de-fc3d-40d9-9c69-45ded4fa2df0",

    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2Fpengabdian.jpg?alt=media&token=3e5f1bc8-c5da-4c8a-9de6-233a7e859db6",
    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2Fdata%20science.jpeg?alt=media&token=293742ee-510a-43e0-9bc8-ecfa34beb8ce",
    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2Ffeed%20ig%20bitsmikro.jpg?alt=media&token=f5132970-089f-4499-982f-c2e94b82034f",

    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2FLife%20After%20Bangkit.png?alt=media&token=51e61467-97ad-4ab0-aaef-08ac09cfda96",
    "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fimage%2FIG%20BITS%201%20OKT.jpg?alt=media&token=8dbdef8d-b99d-4792-b708-7c758e08a4ee",

    // Add more images here
  ],
  videography: [
    {
      title: "Bangkit 2023 Experience",
      description:
        "Bangkit Academy 2023 led By Google, GoTo, Traveloka batch 1 Experience as Mobile Development participant",
      link: "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fvideo%2Fssstik.io_%40famooh_1727426543477.mp4?alt=media&token=a6bf4abc-90e6-4b36-a751-acf7d8db4dab",
    },
    {
      title: "Kampus Merdeka X Studi Independen Batch 3 Dicoding",
      description:
        "Video experience as Multi-Platform and Back-End participant at Dicoding Indonesia",
      link: "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fvideo%2Fssstik.io_1727426522602.mp4?alt=media&token=b90392fe-feb2-4b6a-b021-434505b43f2c",
    },
    {
      title: "Video Assignment for Negotiation Techniques (2) College Course",
      description: "",
      link: "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fvideo%2FTugas%202%20Negosiasi%20Qyta.mp4?alt=media&token=6c85de36-4880-470d-9e8f-0e3337708ca4",
    },

    {
      title: "Freelance Video Editor",
      description: "",
      link: "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fvideo%2FFIX.m4v?alt=media&token=7771b249-7ce9-49bb-8627-5205202f747a",
    },
    {
      title: "Video Assignment for Negotiation Techniques (1) College Course",

      description: "",
      link: "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fvideo%2FTeknik%20Negosiasi_Tugas%201.mp4?alt=media&token=b39bcd76-9195-4ef3-85e8-268ab1b3c4eb",
    },
    {
      title: "Self-introduction video for entering campus organizations",
      description: "",
      link: "https://firebasestorage.googleapis.com/v0/b/angkutin-7fc40.appspot.com/o/fadhil-porto%2Fvideo%2Fperkenalan%20bitsmikro.mp4?alt=media&token=d8580da9-910b-444a-a1ef-192b45bdb5d0",
    },
    // Add more video links here
  ],
};

// Function to render projects
function renderProjects(containerId, projectList, isVideo = false) {
  const container = document.getElementById(containerId);
  projectList.forEach((project) => {
    let item = document.createElement("div");
    item.classList.add("grid-item");

    let itemVideo = document.createElement("div");
    itemVideo.classList.add("video-item");

    if (isVideo) {
      itemVideo.innerHTML = `   

                <iframe width="320" height="240" src="${project.link}" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="card" style="margin-top:1em; margin-bottom:2em">
                  <div class="video-information" style="padding:0 1em;">
                    <p>${project.title}</p>
                    <p>${project.description}</p>
                   </div>
                  </div>
                
                    `;
    } else if (typeof project === "object") {
      item.innerHTML = `
            <div class="card">
                    <div class="card-content">
                    <ul class="project-tech"></ul>
                      <h2 class="title">${project.name}</h2>
                      <p class="description" id="description">${project.description}</p>
                      <p class="more-btn" id="more-btn">see more &#128640;</p>

                      <!-- Dialog for showing full content -->
                      <dialog class="dialog">
                      
                          <h3>${project.name}</h3>
                          
                          <div class="dialog-tech">
                            <h4>Made with ${project.tech}</h4>
                          </div>
                          <p class="dialog-content">${project.description}</p>
                        <button class="closeDialog-btn">Ok, I See &#128077;</button>
                      </dialog>
                    </div>
                    <div class="card-image">
                    <a href="${project.image}" target="_self"><img src="${project.image}" alt="${project.name}"></a>
                    </div>
            </div>
                    `;

      const ulElement = item.querySelector(".project-tech");
      if (project.techStack) {
        project.techStack.forEach((point) => {
          const li = document.createElement("li");
          li.innerHTML = `<img src="${point}" alt="tech stack" class="tech-icon">`; // Misalnya, menggunakan gambar
          ulElement.appendChild(li);
        });
      }
    } else {
      item.innerHTML = `
      <a href="${project}" target="_self"><img src="${project}" alt="" srcset="" class="image-portfolio"></a>
      `;
    }

    if (isVideo) {
      container.appendChild(itemVideo);
    } else {
      container.appendChild(item);
    }
  });
}

document.addEventListener("DOMContentLoaded", () => {
  // Render default projects (Mobile)
  renderProjects("portfolioContainer", projects.android);

  // Get menu items
  const menuItems = document.querySelectorAll(".nav-list li");
  menuItems[0].classList.add("active");

  // Add click event listeners for each menu item
  menuItems.forEach((item) => {
    item.addEventListener("click", (event) => {
      // Prevent default link behavior
      event.preventDefault();

      // Remove 'active' class from all menu items
      menuItems.forEach((menuItem) => menuItem.classList.remove("active"));

      // Add 'active' class to the clicked menu item
      item.classList.add("active");

      // Clear the container before rendering new projects
      const container = document.getElementById("portfolioContainer");
      container.innerHTML = "";

      // Determine which projects to render
      switch (item.id) {
        case "mobile-btn":
          renderProjects("portfolioContainer", projects.android);
          break;
        case "web-btn":
          renderProjects("portfolioContainer", projects.website);
          break;
        case "design-btn":
          renderProjects("portfolioContainer", projects.graphicDesign);
          break;
        case "video-btn":
          renderProjects("portfolioContainer", projects.videography, true);
          break;
      }
    });
  });
});

document.addEventListener("DOMContentLoaded", () => {
  const dialogContainer = document.body; // Menggunakan body untuk event delegation

  dialogContainer.addEventListener("click", (event) => {
    const target = event.target;

    // Show the dialog when "see more" is clicked
    if (target.classList.contains("more-btn")) {
      const dialog = target.closest(".card").querySelector(".dialog");
      dialog.showModal();
    }

    // Close the dialog when close button is clicked
    if (target.classList.contains("closeDialog-btn")) {
      const dialog = target.closest(".dialog");
      dialog.close();
    }
  });
});
